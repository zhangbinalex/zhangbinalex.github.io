/*! Lagou Inc. All Rights Reserved */
define("emitter/emitter",[],function(){function e(){}var t=e.prototype;return t._getEvents=function(){if(!this._events)this._events={};return this._events},t._getMaxListeners=function(){if(isNaN(this.maxListeners))this.maxListeners=10;return this.maxListeners},t.on=function(e,t){var n=this._getEvents(),i=this._getMaxListeners();n[e]=n[e]||[];var r=n[e].length;if(r>=i&&0!==i)throw new RangeError("Warning: possible Emitter memory leak detected. "+r+" listeners added.");return n[e].push(t),this},t.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return n.listener=t,this.on(e,n),this},t.off=function(e,t){var n=this._getEvents();if(0===arguments.length)return this._events={},this;var i=n[e];if(!i)return this;if(1===arguments.length)return delete n[e],this;for(var r,o=0;o<i.length;o++)if(r=i[o],r===t||r.listener===t){i.splice(o,1);break}return this},t.emit=function(e){var t=this._getEvents(),n=t[e],i=Array.prototype.slice.call(arguments,1);if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;r++)n[r].apply(this,i)}return this},t.listeners=function(e){var t=this._getEvents();return t[e]||[]},t.setMaxListeners=function(e){return this.maxListeners=e,this},e.mixin=function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t},e}),define("emitter",["emitter/emitter"],function(e){return e}),define("storage/storage",["require"],function(require){var e,t,n,i,r="_SABER",o={OUT_OF_LIMIT:"Out of space limit"};e=function(){try{var e="localStorage"in window&&null!==window.localStorage,t={k:"test key",v:"test value"};if(e)localStorage.setItem(t.k,t.v),e=t.v===localStorage.getItem(t.k),localStorage.removeItem(t.k);return e}catch(n){return!1}}(),t=function(e){return JSON.stringify(e)},n=function(e){try{e=JSON.parse(e)}catch(t){}return e},i={data:{},setItem:function(e,t){this.data[e]=t},getItem:function(e){return this.data[e]},removeItem:function(e){delete this.data[e]}};var s=function(){};s.prototype={on:function(e,t){if("function"==typeof t){var n=this.events||(this.events={});return n[e]=n[e]||[],n[e].push(t),this}},emit:function(e){var t=this.events||(this.events={}),n=t[e],i=Array.prototype.slice.call(arguments,1);if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;r++)n[r].apply(this,i)}return this}},s.mixin=function(e){var t=Object.keys(s.prototype);return t.forEach(function(t){e[t]=s.prototype[t]}),e};var a=function(t){t=t||{},this.storageId=t.storageId||r,this.memoryCache=!!t.memoryCache,this.storage=e&&!this.memoryCache?window.localStorage:i};return a.Event=a.prototype.Event=o,a.prototype={isSupport:function(){return e},setItem:function(e,n){var i=this._getData();i[e]=n;try{return localStorage.setItem(this.storageId,t(i)),!0}catch(r){return this.emit(o.OUT_OF_LIMIT,r),!1}},getItem:function(e){return this._getData()[e]},removeItem:function(e){var n=this._getData();delete n[e],this.storage.setItem(this.storageId,t(n))},clear:function(){this.storage.removeItem(this.storageId)},key:function(){return Object.keys(this._getData())},_getData:function(){var e=this.storage.getItem(this.storageId);return e?n(e):{}}},s.mixin(a.prototype),a}),define("storage",["storage/storage"],function(e){return e}),define("common/js/config",["require","exports","module"],function(require,exports,module){var e="http://suggest.lagou.com";module.exports={debug:!1,title:"拉勾网",titleCustom:"设置定制信息",titleComDetail:"公司职位",titleMineCollect:"我的收藏",titleJobDetail:"职位详情",titleInterview:"我的面试",host:"http://www.lagou.com",footertab:[{name:"职位",type:"custom",target:"/custom/list.html"},{name:"搜索",type:"search",target:"/custom/search.html?m=1"},{name:"我的",type:"mine",target:"/center/mine.html?m=1"}],wholecountry:"全国",cityholder:"&nbsp;",pageSize:15,url:{404:"/404.html",login:FRONT_LOGIN,logout:FRONT_LOGOUT,collect:"/weixincollect/jobtitle/list.html",deliver:"/weixinResume/resumeDealStatus.html",resume:"/center/preview.html",customList:"/custom/list.html",customPosition:"/custom/position.html",customCity:"/custom/city.html",customSalary:"/custom/salary.html",customStages:"/custom/stages.html",positionName:"/custom/position.html",city:"/custom/city.html",salary:"/custom/salary.html",stages:"/custom/stages.html",customMine:"/custom/mine.html",go2Jobs:"/center/job_",go2Company:"/center/company_",deliverdetail:"/center/deliverdetail.html",intervieweval:"/custom/interviewEval.html",openplus:"/minvite/invitation.html",search:"/custom/search.json",customlistmore:"/custom/listmore.json",positionls:e+"/suggestion",saveposition:"/custom/saveposition.json",savecity:"/custom/savecity.json",savesalary:"/custom/savesalary.json",savestages:"/custom/savestages.json",saveforsearch:"/custom/savebs.json",comdetail:"/center/companyjobs.json",collectlistmore:"/center/collectlistMore.json",collectjson:"/center/collect.json",cancelcollectjson:"/center/cancelcollect.json",isCanOneKeyDeliver:"/mycenter/isCanOneKeyDeliver.json",oneKeyDeliver:"/mycenter/oneKeyDeliver.json",deliverresumev2:"/center/oneKeyDeliverResume.json",deliverlistmore:"/center/deliverlistMore.json",deliverresume:"/center/deliverResume.json",setdefaultresume:"/center/setDefaultResume.json",confirmresumes:"/center/confirmResumes.json",interviewevallistmore:"/interview/experience/byPosition.json",interlistmaore:"/minterview/interviewlistMore.json",openpluslistmore:"/minvite/invitationMore.json",addshieldemail:"/minvite/saveShieldEmailSuffix.json",delshieldemail:"/minvite/deleteShieldEmailSuffix.json",opencloseplus:"/minvite/openMyResume.json",saveInterviewExp:"/mycenter/createInterviewExperience.json",confirmOfferReceive:"/mycenter/receiveOffer.json"},hotWords:["产品经理","Java","运营","Android","PHP","UI","IOS","编辑","BD"],placeholder:{custompos:"输入你想定制的职位"},customArr:["positionName","city","salary","stages"],customMap:{positionName:"职位类型",city:"工作地点",salary:"期望薪水",stages:"公司规模"}}}),define("common/util/helper",["require","exports","module","common/js/config"],function(require,exports,module){var e=require("common/js/config");template.helper("dateFormat",function(e,t){e=new Date(parseInt(e));var n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,i){var r=n[i];if(void 0!==r){if(t.length>1)r="0"+r,r=r.substr(r.length-2);return r}else if("y"===i)return(e.getFullYear()+"").substr(4-t.length);return t})}),template.helper("appendHost",function(t){return e.host+"/"+t}),template.helper("mathFloor",function(e){return Math.floor(parseFloat(e))}),module.exports={}}),define("common/util/out",["require","exports","module","common/js/config"],function(require,exports,module){var e=require("common/js/config");module.exports={tip:function(){if(e.debug){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);console[t].apply(console,n)}}}}),define("common/util/sets",["require","exports","module","common/js/config"],function(require,exports,module){var e=(require("common/js/config"),function(e){return e.replace(/([\.\?\+\*\^\(\)\\\{\}\$\/])/g,"\\$1")});module.exports={trimRegExp:e,isMineOrChildOf:function(e,t){if(e.filter(t).length>0)return!0;else return e.closest(t).length>0},highlights:function(t,n){"string"==typeof n&&(n=[n]),$(t).each(function(){var t=$(this),i=t.html();$.each(n,function(n,r){if(""!=r){r=e(r.toLowerCase());var o=new RegExp("("+r+")","gi");o.test(i)&&t.html(t.html().replace(o,'<em class="hl">$1</em>'))}})})},inherit:function(e,t,n){e.prototype=$.extend(new t,n),e.prototype.constructor=e,e.prototype.supertoucher=function(){var e=new t;return function(t,n,i){if(t)n||(n=[]),e[t]&&e[t].apply(i||this,n)}}()},inWeixin:function(){var e=navigator.userAgent.toLowerCase();if("micromessenger"==e.match(/MicroMessenger/i))return!0;else return!1},throttle:function(e,t,n,i){n=void 0==n?null:n,e.tId&&clearTimeout(e.tId),e.tId=setTimeout(function(){e.apply(n,t)},i?i:140)},isSet:function(e){return!!e&&"null"!=e&&"undefined"!=e},reflow:function(){window.setTimeout(function(){document.body.style.display="none",document.body.offsetHeight,document.body.style.display=""},0)},random:function(e){return e+Math.floor(1e5*Math.random())}}}),define("common/components/base/main",["require","exports","module","emitter"],function(require,exports,module){var e=(require("emitter"),function(e){for(var t in e)this[t]=e[t];this.init()});e.prototype={constructor:e,init:function(){},show:function(){var e=this;return e.container&&e.container.show(),e},hide:function(){var e=this;return e.container&&e.container.hide(),e}},module.exports=e}),define("common/components/dialog-tip/main.atpl",[],function(){return'<div class="dialog-tip"><div class="back"><div class="text">{{msg}}</div></div></div>'}),define("common/components/dialog-tip/main",["require","exports","module","../base/main","./main.atpl"],function(require,exports,module){var e=require("../base/main"),t=require("./main.atpl"),n=2500,i=function(t){e.call(this,t)};i.prototype=$.extend(new e,{constructor:i,init:function(){var e=this;return e.wrapper=$(template.compile(t)({msg:e.msg})),e},show:function(e){var t=this;return $("body").append(t.wrapper),window.setTimeout(function(){t.wrapper.remove()},e||t.delay||n),t}}),module.exports=i}),define("common/util/requester",["require","exports","module","common/util/out","common/js/config","common/components/dialog-tip/main"],function(require,exports,module){var e=require("common/util/out"),t=require("common/js/config"),n=require("common/components/dialog-tip/main");module.exports={exec:function(i){i.success=function(r,o,s){if(e.tip("log",r,o,r.state),void 0!=r.state){if(r.state+="",1==r.state)i.succ&&i.succ(r,o,s);if(-1==r.state||1!=r.state)!i.notip&&304!=r.state&&r.message&&new n({msg:r.message}).show(),i.err&&i.err(r,o,s);if(0==r.state.indexOf("21"))window.location.href=t.url[404];if(0==r.state.indexOf("32")||304==r.state)window.location.href=t.url.login}else if(void 0==r.state)i.succ&&i.succ(r,o,s)},i.error=function(t,n,r){e.tip("error",n,r),i.err&&i.err(t,n,r)},$.ajax(i)}}}),function(e,t){"use strict";var n=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var n=function(e,t,i){return 1===arguments.length?n.get(e):n.set(e,t,i)};return n._document=e.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={path:"/",secure:!1},n.get=function(e){if(n._cachedDocumentCookie!==n._document.cookie)n._renewCache();return n._cache[n._cacheKeyPrefix+e]},n.set=function(e,i,r){return r=n._getExtendedOptions(r),r.expires=n._getExpiresDate(i===t?-1:r.expires),n._document.cookie=n._generateCookieString(e,i,r),n},n.expire=function(e,i){return n.set(e,t,i)},n._getExtendedOptions=function(e){return{path:e&&e.path||n.defaults.path,domain:e&&e.domain||n.defaults.domain,expires:e&&e.expires||n.defaults.expires,secure:e&&e.secure!==t?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e)e=e===1/0?n._maxExpireDate:new Date(t.getTime()+1e3*e);else if("string"==typeof e)e=new Date(e);if(e&&!n._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var i=e+"="+t;return i+=n.path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},n._getCacheFromString=function(e){for(var i={},r=e?e.split("; "):[],o=0;o<r.length;o++){var s=n._getKeyValuePairFromCookieString(r[o]);if(i[n._cacheKeyPrefix+s.key]===t)i[n._cacheKeyPrefix+s.key]=s.value}return i},n._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");return t=0>t?e.length:t,{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},n._renewCache=function(){n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie},n._areEnabled=function(){var e="cookies.js",t="1"===n.set(e,1).get(e);return n.expire(e),t},n.enabled=n._areEnabled(),n},i="object"==typeof e.document?n(e):n;if("function"==typeof define&&define.amd)define("cookies/cookies",[],function(){return i});else if("object"==typeof exports){if("object"==typeof module&&"object"==typeof module.exports)exports=module.exports=i;exports.Cookies=i}else e.Cookies=i}("undefined"==typeof window?this:window),define("cookies",["cookies/cookies"],function(e){return e}),define("common/components/header/tpl/leftcorner.atpl",[],function(){return'<div class="left"><span class="corner"></span></div>'}),define("common/components/header/tpl/rightcorner.atpl",[],function(){return'<div class="right">	<span class="corner"></span></div>'}),define("common/components/header/tpl/righttext.atpl",[],function(){return'<div class="right-text">	<a class="text" href="/center/interview/experience/rules.html">规则</a></div>'}),define("common/components/header/tpl",["require","exports","module","./tpl/leftcorner.atpl","./tpl/rightcorner.atpl","./tpl/righttext.atpl"],function(require,exports,module){module.exports={leftcorner:require("./tpl/leftcorner.atpl"),rightcorner:require("./tpl/rightcorner.atpl"),righttext:require("./tpl/righttext.atpl")}}),define("common/components/header/main",["require","exports","module","../base/main","./tpl"],function(require,exports,module){var e=require("../base/main"),t=require("./tpl"),n=function(t){if(!t.container)throw"need container!";t.title=t.title||"default title",e.call(this,t)};n.prototype=$.extend(new e,{constructor:n,init:function(){var e=this;return e.render(),e},render:function(){var e=this;if(e.container.text(e.title),e.leftcorner)e.handleLeft();if(e.rightcorner)e.handriRight();if(e.righttext)e.handriText();return e},handleLeft:function(){var e=this;return e.leftcornerTarget=$(t.leftcorner),e.container.append(e.leftcornerTarget),e.leftcornerTarget.bind("click",function(){e.emitter.emit("header:leftcorner","clickvalue")}),e},handriRight:function(){var e=this;return e.rightconrnerTarget=$(t.rightcorner),e.container.append(e.rightconrnerTarget),e.rightconrnerTarget.bind("click",function(){e.emitter.emit("header:rightcorner","clickvalue2")}),e},handriText:function(){var e=this;return e.righttextTarget=$(t.righttext),e.container.append(e.righttextTarget),e.righttextTarget.bind("click",function(t){e.emitter.emit("header:righttext","clickvalue3")}),e}}),module.exports=n}),define("common/components/footer/main.atpl",[],function(){return'<!--通用footer组件模板@author pooky@lagou.com-->{{each tab as value i}}<div data-name="{{value.name}}" data-index="{{i}}"data-type="{{value.type}}" class="footer-tab-{{value.type}}{{value.selected}}"><span class="icon{{value.selected}}"></span><span class="text">{{value.name}}</span></div>{{/each}}'}),define("common/components/footer/main",["require","exports","module","../base/main","./main.atpl"],function(require,exports,module){var e=require("../base/main"),t=require("./main.atpl"),n=function(t){if(!t.container)throw"need container!";e.call(this,t)};n.prototype=$.extend(new e,{constructor:n,init:function(){var e=this;return e.render().bindEvent(),e},render:function(){var e=this;return $.each(e.tab,function(t,n){n.type==e.selected&&(e.tab[t].selected=" selected")}),e.renderEngine||(e.renderEngine=template.compile(t)),e.container.html(e.renderEngine(e)),e},bindEvent:function(){var e=this;return e.container.on("click","div",function(){var t=$(this);if(!t.hasClass("selected"))e.emitter.emit("footer:changetab",t.data("name"),t.data("type"),t.data("index"))}),e}}),module.exports=n}),define("common/components/list/tpl/more.atpl",[],function(){return'<li class="activeable list-more">加载更多</li>'}),define("common/components/list/tpl/empty.atpl",[],function(){return'<li class="list-empty"><span class="icon"></span><span class="text">拉勾上暂时没有这样的职位</span></li>'}),define("common/components/list/tpl",["require","exports","module","./tpl/more.atpl","./tpl/empty.atpl"],function(require,exports,module){module.exports={more:require("./tpl/more.atpl"),empty:require("./tpl/empty.atpl")}}),define("common/components/list/main",["require","exports","module","../base/main","./tpl"],function(require,exports,module){var e=require("../base/main"),t=require("./tpl"),n=function(t){e.call(this,t)};n.prototype=$.extend(new e,{constructor:n,init:function(){var e=this;return e.sets().render(),e},sets:function(){var e=this;return e.pen=template.compile($.trim($("#"+e.layout).html())),e.totalpage=Math.ceil(e.total/e.pagesize),e.more=$(t.more),e},render:function(){var e=this;if(e.data)e.refresh();return e.bindEvents(),e},append:function(){var e=this;return e.more.remove(),e.moreappened=!1,e.totalpage=Math.ceil(e.total/e.pagesize),e.container.append(e.pen({list:e.adata})),e.handleMore(),e.show(),e},refresh:function(){var e=this;return e.more.remove(),e.moreappened=!1,e.totalpage=Math.ceil(e.total/e.pagesize),e.container.html(e.pen({list:e.data})),e.handleMore(),e.show(),e},handleEmpty:function(){var e=this;return e.container.html(t.empty),e},handleMore:function(){var e=this;if(e.more.text("加载更多"),e.pending=!1,!e.data.length)return e.moreappened&&e.more.hide(),e.handleEmpty(),e;if(e.totalpage==e.curpage)return e.moreappened&&e.more.hide(),e;if(e.moreappened&&e.more.show(),!e.moreappened)e.container.append(e.more),e.moreappened=!0;return e},bindEvents:function(){var e=this;return e.container.on("click",".list-item",function(){var t=$(this);e.emitter.emit("list:itemclick",t.data("positionid"),t.data("companyid"))}),e.container.on("click",".list-more",function(){$(this);if(!e.pending)e.pending=!0,e.more.text("加载中..."),e.emitter.emit("list:moreclick")}),e}}),module.exports=n}),define("common/components/copyright/tpl/copyright.atpl",[],function(){return'<p>©2015 lagou.com, all right reserved </p><div class="copyright-item"><span class="phone">移动版&nbsp;·&nbsp;</span><span class="computer">电脑版&nbsp;·&nbsp;</span><a href="#header">回顶部</a></div>'}),define("common/components/copyright/tpl",["require","exports","module","./tpl/copyright.atpl"],function(require,exports,module){module.exports={copyright:require("./tpl/copyright.atpl")}}),define("common/components/copyright/main",["require","exports","module","../base/main","./tpl"],function(require,exports,module){var e=require("../base/main"),t=require("./tpl"),n=function(t){if(!t.container)throw"need container!";e.call(this,t)};n.prototype=$.extend(new e,{constructor:n,init:function(){var e=this;return e.render(),e},render:function(){var e=this;return e.cTarget=$(t.copyright),e.container.append(e.cTarget),e}}),module.exports=n}),define("custom/list/main",["require","exports","module","emitter","storage","common/util/helper","common/js/config","common/util/out","common/util/sets","common/util/requester","cookies","common/components/header/main","common/components/footer/main","common/components/list/main","common/components/copyright/main"],function(require,exports,module){function e(e){s.exec({url:i.url.customlistmore,dataType:"json",data:{pageNo:m.curpage,pageSize:i.pageSize},succ:function(t,n,i){e(t,n)},err:function(e,t,n){}})}function t(e){var t=e.content.data.page;m.adata=t.result||[],m.curpage=t.pageNo,m.total=t.totalCount,m.append()}var n=require("emitter");require("storage");require("common/util/helper");var i=require("common/js/config"),r=require("common/util/out"),o=require("common/util/sets"),s=require("common/util/requester"),a=require("cookies"),c=new n,u=require("common/components/header/main"),l=require("common/components/footer/main"),f=require("common/components/list/main");if(o.isSet(global.custom))global.custom=$.parseJSON(global.custom);var m=(new u({emitter:c,title:i.title,container:$("#header")}),new l({emitter:c,tab:i.footertab,selected:"custom",container:$("#footer")}),new f({emitter:c,container:$("#content .list"),layout:"tpl-list",data:global.page.result,curpage:1,pagesize:i.pageSize,total:global.page.totalCount}));c.on("footer:changetab",function(e,t,n){r.tip("log",e,t,n),top.location.href=i.footertab[n].target}),c.on("list:itemclick",function(e,t){r.tip("info","list:itemclick",e,t),top.location.href=i.url.go2Jobs+e+".html"}),c.on("list:moreclick",function(){r.tip("info","list:moreclick"),m.curpage++,e(t)});var p=$("#content .custom-info"),h=p.find(".info"),d=p.find(".icon"),g=p.find(".text"),v=p.find(".go");if(global.isLogin)if(global.custom)h.text(function(){var e=[];return $.each(i.customArr,function(t,n){global.custom[n]&&e.push(global.custom[n])}),e.join("/")||"10秒钟定制职位"}()),g.text("编辑"),d.css({display:"inline-block"}),v.attr("href",i.url.customMine);else h.text("10秒钟定制职位"),g.text("编辑定制信息"),v.attr("href",i.url.customPosition+"?s=1");p.show();var y=require("common/components/copyright/main"),x=(new y({emitter:c,container:$("#copyright")}),$("#copyright .copyright-item span.computer")),b=$("#copyright .copyright-item span.phone");if("1"==a.get("view_change_key"))x.addClass("active").siblings("span").removeClass("active");else b.addClass("active").siblings("span").removeClass("active");x.click(function(){if(a.enabled)a.set("view_change_key","1");top.location.href=document.URL}),b.click(function(){if(a.enabled)a.set("view_change_key","0");top.location.href=document.URL}),$("#push_bottom .close_btn").click(function(e){$("#push_bottom").hide(),e.preventDefault()}),$("#downloadPopup .close_btn").click(function(){$("#downloadPopup").hide(),$("#push_bottom").show().addClass("slideInUp")}),localStorage.getItem("haveShowDownloadPopup")?function(){$("#push_bottom").show()}():function(){localStorage.setItem("haveShowDownloadPopup",1),$("#downloadPopup").show()}()});